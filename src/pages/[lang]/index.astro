---
import Layout from '../../layouts/Layout.astro';
import Hero from '../../components/Hero.astro';
import Services from '../../components/Services.astro';
import About from '../../components/About.astro';
import Testimonials from '../../components/Testimonials.astro';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import { languages } from '../../i18n/ui';

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({
    params: { lang },
  }));
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title={t('hero.title')}>
  <Hero transition:animate="fade" />
  <Services transition:animate="slide" />
  <About transition:animate="slide" />
  <Testimonials transition:animate="slide" />
</Layout>